<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JioSaavn API Wrapper - Documentation</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .main-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .tab {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background: white;
            color: #007bff;
            border-bottom: 3px solid #007bff;
        }
        
        .tab:hover {
            background: #e9ecef;
        }
        
        .content {
            padding: 30px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #495057;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
        }
        
        .results {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        
        .results h3 {
            margin-bottom: 15px;
            color: #495057;
        }
        
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border-left-color: #dc3545;
        }
        
        .quick-tests {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .quick-test {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .quick-test:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40,167,69,0.3);
        }
        
        .quick-test h4 {
            margin-bottom: 5px;
        }
        
        .quick-test p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽµ JioSaavn API Wrapper</h1>
            <p>Test and explore music search capabilities</p>
        </div>
        
        <div class="main-content">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('songs')">Songs</button>
                <button class="tab" onclick="switchTab('albums')">Albums</button>
                <button class="tab" onclick="switchTab('artists')">Artists</button>
                <button class="tab" onclick="switchTab('playlists')">Playlists</button>
            </div>
            
            <div class="content">
                <!-- Songs Tab -->
                <div id="songs" class="tab-content active">
                    <div class="quick-tests">
                        <div class="quick-test" onclick="quickTest('songs', 'tamil songs', {language: 'tamil', limit: 10})">
                            <h4>Tamil Songs</h4>
                            <p>Search popular Tamil music</p>
                        </div>
                        <div class="quick-test" onclick="quickTest('songs', 'arijit singh', {sort: 'popularity', limit: 15})">
                            <h4>Arijit Singh</h4>
                            <p>Popular songs by Arijit Singh</p>
                        </div>
                        <div class="quick-test" onclick="quickTest('songs', 'bollywood', {language: 'hindi', year: 2024, limit: 20})">
                            <h4>Bollywood 2024</h4>
                            <p>Latest Bollywood hits</p>
                        </div>
                    </div>
                    
                    <form onsubmit="testAPI('songs', event)">
                        <div class="form-group">
                            <label>Search Query *</label>
                            <input type="text" name="query" placeholder="Enter song name, artist, or keywords" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <select name="language">
                                    <option value="">All Languages</option>
                                    <option value="hindi">Hindi</option>
                                    <option value="tamil">Tamil</option>
                                    <option value="telugu">Telugu</option>
                                    <option value="punjabi">Punjabi</option>
                                    <option value="english">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Year</label>
                                <input type="number" name="year" placeholder="e.g., 2024" min="1950" max="2030">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Min Duration (seconds)</label>
                                <input type="number" name="minDuration" placeholder="e.g., 180">
                            </div>
                            <div class="form-group">
                                <label>Max Duration (seconds)</label>
                                <input type="number" name="maxDuration" placeholder="e.g., 300">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Sort By</label>
                                <select name="sort">
                                    <option value="">Default</option>
                                    <option value="popularity">Popularity</option>
                                    <option value="latest">Latest</option>
                                    <option value="duration">Duration</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Limit</label>
                                <input type="number" name="limit" value="20" min="1" max="50">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn">Search Songs</button>
                        <button type="button" class="btn btn-secondary" onclick="clearResults()">Clear</button>
                    </form>
                </div>
                
                <!-- Albums Tab -->
                <div id="albums" class="tab-content">
                    <div class="quick-tests">
                        <div class="quick-test" onclick="quickTest('albums', 'ar rahman', {limit: 15})">
                            <h4>AR Rahman Albums</h4>
                            <p>Discover Rahman's music</p>
                        </div>
                        <div class="quick-test" onclick="quickTest('albums', 'vikram', {language: 'tamil', limit: 10})">
                            <h4>Tamil Albums</h4>
                            <p>Popular Tamil movie albums</p>
                        </div>
                    </div>
                    
                    <form onsubmit="testAPI('albums', event)">
                        <div class="form-group">
                            <label>Search Query *</label>
                            <input type="text" name="query" placeholder="Enter album name or artist" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <select name="language">
                                    <option value="">All Languages</option>
                                    <option value="hindi">Hindi</option>
                                    <option value="tamil">Tamil</option>
                                    <option value="telugu">Telugu</option>
                                    <option value="punjabi">Punjabi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Year</label>
                                <input type="number" name="year" placeholder="e.g., 2024">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Sort By</label>
                                <select name="sort">
                                    <option value="">Default</option>
                                    <option value="popularity">Popularity</option>
                                    <option value="latest">Latest</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Limit</label>
                                <input type="number" name="limit" value="20" min="1" max="50">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn">Search Albums</button>
                        <button type="button" class="btn btn-secondary" onclick="clearResults()">Clear</button>
                    </form>
                </div>
                
                <!-- Artists Tab -->
                <div id="artists" class="tab-content">
                    <div class="quick-tests">
                        <div class="quick-test" onclick="quickTest('artists', 'arijit singh', {limit: 5})">
                            <h4>Find Arijit Singh</h4>
                            <p>Search for the popular singer</p>
                        </div>
                        <div class="quick-test" onclick="quickTest('artists', 'shreya ghoshal', {limit: 5})">
                            <h4>Shreya Ghoshal</h4>
                            <p>Find the melody queen</p>
                        </div>
                    </div>
                    
                    <form onsubmit="testAPI('artists', event)">
                        <div class="form-group">
                            <label>Search Query *</label>
                            <input type="text" name="query" placeholder="Enter artist name" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Limit</label>
                            <input type="number" name="limit" value="15" min="1" max="50">
                        </div>
                        
                        <button type="submit" class="btn">Search Artists</button>
                        <button type="button" class="btn btn-secondary" onclick="clearResults()">Clear</button>
                    </form>
                </div>
                
                <!-- Playlists Tab -->
                <div id="playlists" class="tab-content">
                    <div class="quick-tests">
                        <div class="quick-test" onclick="quickTest('playlists', 'bollywood', {language: 'hindi', limit: 10})">
                            <h4>Bollywood Playlists</h4>
                            <p>Popular Hindi playlists</p>
                        </div>
                        <div class="quick-test" onclick="quickTest('playlists', 'love songs', {limit: 15})">
                            <h4>Love Songs</h4>
                            <p>Romantic music collections</p>
                        </div>
                    </div>
                    
                    <form onsubmit="testAPI('playlists', event)">
                        <div class="form-group">
                            <label>Search Query *</label>
                            <input type="text" name="query" placeholder="Enter playlist theme or name" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Language</label>
                                <select name="language">
                                    <option value="">All Languages</option>
                                    <option value="hindi">Hindi</option>
                                    <option value="tamil">Tamil</option>
                                    <option value="telugu">Telugu</option>
                                    <option value="punjabi">Punjabi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sort By</label>
                                <select name="sort">
                                    <option value="">Default</option>
                                    <option value="popularity">Popularity</option>
                                    <option value="latest">Latest</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Limit</label>
                            <input type="number" name="limit" value="20" min="1" max="50">
                        </div>
                        
                        <button type="submit" class="btn">Search Playlists</button>
                        <button type="button" class="btn btn-secondary" onclick="clearResults()">Clear</button>
                    </form>
                </div>
                
                <div id="results"></div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Clear results when switching tabs
            clearResults();
        }
        
        async function testAPI(category, event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            const params = new URLSearchParams();
            
            for (let [key, value] of formData.entries()) {
                if (value.trim()) {
                    params.append(key, value.trim());
                }
            }
            
            const url = `/api/${category}/search?${params.toString()}`;
            await makeRequest(url);
        }
        
        async function quickTest(category, query, extraParams = {}) {
            const params = new URLSearchParams({ query, ...extraParams });
            const url = `/api/${category}/search?${params.toString()}`;
            await makeRequest(url);
        }
        
        async function makeRequest(url) {
            const resultsDiv = document.getElementById('results');
            
            // Show loading
            resultsDiv.innerHTML = `
                <div class="results">
                    <div class="loading">ðŸ”„ Loading...</div>
                </div>
            `;
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                
                let resultsClass = 'results';
                if (!response.ok) {
                    resultsClass += ' error';
                }
                
                resultsDiv.innerHTML = `
                    <div class="${resultsClass}">
                        <h3>API Response (${response.status})</h3>
                        <p><strong>URL:</strong> ${url}</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </div>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="results error">
                        <h3>Error</h3>
                        <p><strong>URL:</strong> ${url}</p>
                        <pre>Error: ${error.message}</pre>
                    </div>
                `;
            }
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }
    </script>
</body>
</html>
